name: Fly Deploy
on: ["push"]

concurrency:
  group: fly-production
jobs:
  lint:
    name: lint
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2
      - run: cargo check --all-targets
      - run: cargo clippy
      - run: cargo test

  test:
    name: test
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2
      - run: cargo test

